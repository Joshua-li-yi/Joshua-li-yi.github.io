<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Qt-画图板</title>
    <url>/2019/11/10/Qt-%E7%94%BB%E5%9B%BE%E6%9D%BF/</url>
    <content><![CDATA[<h2 id="Qt画图板程序的实现"><a href="#Qt画图板程序的实现" class="headerlink" title="Qt画图板程序的实现"></a>Qt画图板程序的实现</h2><h3 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h3><p><img src="https://raw.githubusercontent.com/Joshua-li-yi/blog_images/master/images/20191110225749.png" alt></p>
<h4 id="Qt环境"><a href="#Qt环境" class="headerlink" title="Qt环境"></a>Qt环境</h4><p>Qt Creator 4.8.2</p>
<h4 id="技术细节"><a href="#技术细节" class="headerlink" title="技术细节"></a>技术细节</h4><p>画图板程序的实现分为以下三个部分，</p>
<ol>
<li><p>画图板界面的设计</p>
</li>
<li><p>界面和后台程序之间信号的传递</p>
</li>
<li><p>画图板功能程序的具体实现</p>
</li>
</ol>
<ol>
<li><strong>画图板界面的设计</strong></li>
</ol>
<p>利用Qt design设计画图板，包括，菜单栏，工具栏和用户窗口</p>
<p>具体界面如下：</p>
<p><img src="https://raw.githubusercontent.com/Joshua-li-yi/blog_images/master/images/first_1/20191111142852.png" alt></p>
<p>绘制图形可以绘制选择，直线，矩形，和圆</p>
<p><img src="https://raw.githubusercontent.com/Joshua-li-yi/blog_images/master/images/first_1/a145.png" alt></p>
<p>选择涂鸦即可绘制自由线条</p>
<p>可以选择，画笔的粗细，颜色和画笔的样式，也可以选择画刷的颜色和样式</p>
<p>二．<strong>界面和后台程序之间信号的传递</strong></p>
<p>在菜单栏的选择中使用了，connect函数实现信号的传递，使用action中自带的triggered()信号，来获得所点击的内容</p>
<p>具体代码如下：</p>
<p><img src="https://raw.githubusercontent.com/Joshua-li-yi/blog_images/master/images/first_1/20191111142945.png" alt></p>
<p>槽的定义为：</p>
<p><img src="https://raw.githubusercontent.com/Joshua-li-yi/blog_images/master/images/first_1/20191111143015.png" alt></p>
<p>graph在头文件中的定义为：</p>
<p><img src="https://raw.githubusercontent.com/Joshua-li-yi/blog_images/master/images/first_1/20191111143100.png" alt></p>
<p>画笔的粗细值的传递的具体代码如下：</p>
<figure class="highlight qt"><table><tr><td class="code"><pre><span class="line">ui-\&gt;spinBox-\&gt;setMinimum(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>



<p><img src="https://raw.githubusercontent.com/Joshua-li-yi/blog_images/master/images/first_1/20191111143158.png" alt></p>
<p>画笔的颜色和画笔的样式，画刷的颜色和样式具体的实现代码如下：</p>
<p><img src="https://raw.githubusercontent.com/Joshua-li-yi/blog_images/master/images/first_1/20191111143227.png" alt></p>
<p><img src="https://raw.githubusercontent.com/Joshua-li-yi/blog_images/master/images/first_1/20191111143258.png" alt></p>
<p><img src="https://raw.githubusercontent.com/Joshua-li-yi/blog_images/master/images/first_1/20191111143328.png" alt></p>
<p>先使用了combox中的activated槽函数，将下拉列表的选择项提取出来，再一一对应对应的颜色与格式。</p>
<p>三 <strong>画图板功能程序的具体实现</strong></p>
<p>使用鼠标press，move，和release函数来获得鼠标的状态，并将状态记录下来</p>
<p>具体代码如下：</p>
<p><img src="https://raw.githubusercontent.com/Joshua-li-yi/blog_images/master/images/first_1/20191111143407.png" alt></p>
<p>isDrawing 用来记录画板是否处于绘画状态</p>
<p><img src="https://raw.githubusercontent.com/Joshua-li-yi/blog_images/master/images/first_1/20191111143436.png" alt></p>
<p><img src="https://raw.githubusercontent.com/Joshua-li-yi/blog_images/master/images/first_1/20191111143505.png" alt></p>
<p>问题及解决</p>
<ol>
<li></li>
</ol>
<p><strong>问题描述</strong>：在涂鸦功能的代码实现上，发现总是只能显示最终所画的两个点，而不能实现，鼠标点击之后路过哪里就在哪里画。</p>
<p><strong>问题解决</strong>：经过对代码的分析发现，造成上面的原因是，直接套用了上面画矩形和圆的双缓冲机制，而忽略了，双缓冲机制，是为了避免拖拽残影而将最终的tempix上的状态复制到pix画板上，所有，应该实时将涂鸦的内容复制到pix画板上，所以最终加了</p>
<p><img src="https://raw.githubusercontent.com/Joshua-li-yi/blog_images/master/images/first_1/20191111143538.png" alt></p>
<p>pix=tempix：这句</p>
<p>最后解决了，涂鸦的路径绘制问题</p>
<p>效果展示：</p>
<p><img src="https://raw.githubusercontent.com/Joshua-li-yi/blog_images/master/images/first_1/a1009.png" alt></p>
<p>2.</p>
<p><strong>问题描述</strong>：无法在画板上进行图形的连续绘制，每次只能在画板上画一个图形，再画另一个图形之后，就会更新前面所画的图形</p>
<p><strong>问题解决</strong>：分析绘制图形的代码发现，应该将</p>
<p>if(isDrawing)放在if(graph==1)里面可以解决上述问题，且只有一个</p>
<p>if(!isDrawing)</p>
<p>pix=tempix;</p>
<p>这样既可实现连续绘制，因为如果有多个</p>
<p>if(!isDrawing)</p>
<p>pix=tempix;</p>
<p>时，每次绘完之后他就会重启一个画板。</p>
<p><img src="https://raw.githubusercontent.com/Joshua-li-yi/blog_images/master/images/first_1/20191111143723.png" alt></p>
<p><img src="https://raw.githubusercontent.com/Joshua-li-yi/blog_images/master/images/first_1/20191111143801.png" alt></p>
<p>效果展示：</p>
<p><img src="https://raw.githubusercontent.com/Joshua-li-yi/blog_images/master/images/first_1/20191111143827.png" alt></p>
<p>3<strong>.</strong></p>
<p><strong>问题描述</strong>：无法更改画笔，画刷，画笔和画刷的信号传递过程没有设计好</p>
<p>开始时直接在构造函数里写combox的信号与槽，发现无法完成画笔和槽之间的切换。</p>
<p><strong>问题解决</strong>：经过查阅资料后，明白了combox和spinbox的使用细节。之后直接调用了他们的相关槽函数，具体代码如下：</p>
<p><img src="https://raw.githubusercontent.com/Joshua-li-yi/blog_images/master/images/first_1/20191111143855.png" alt></p>
<p>使用了combox的activated槽函数，和spinbox的editingfinished槽函数解决了问题。</p>
<p>效果展示：</p>
<p><img src="https://raw.githubusercontent.com/Joshua-li-yi/blog_images/master/images/first_1/a1215.png" alt></p>
]]></content>
      <categories>
        <category>Qt</category>
      </categories>
      <tags>
        <tag>Qt</tag>
      </tags>
  </entry>
  <entry>
    <title>Qt*.ui界面文件对应的ui_*.h文件的作用</title>
    <url>/2019/11/09/Qt-ui%E7%95%8C%E9%9D%A2%E6%96%87%E4%BB%B6%E5%AF%B9%E5%BA%94%E7%9A%84ui-h%E6%96%87%E4%BB%B6%E7%9A%84%E4%BD%9C%E7%94%A8/</url>
    <content><![CDATA[<h3 id="研究-ui界面文件对应的ui-h文件的作用"><a href="#研究-ui界面文件对应的ui-h文件的作用" class="headerlink" title="研究.ui界面文件对应的ui_.h文件的作用"></a>研究<em>.ui界面文件对应的ui_</em>.h文件的作用</h3><p>ui_<em>.h 是在对 *.ui 文件编译后生成的一个文件，ui_</em>.h 会出现在编译后的目录下，或与 *.ui 同目录（与项目的 shadow build 编译设置有关）。</p>
<h4 id="查看-ui-h-文件的内容，发现它主要做了以下的一些工作："><a href="#查看-ui-h-文件的内容，发现它主要做了以下的一些工作：" class="headerlink" title="查看 ui_*.h 文件的内容，发现它主要做了以下的一些工作："></a>查看 ui_*.h 文件的内容，发现它主要做了以下的一些工作：</h4><p>1.定义了一个类 Ui_*，用于封装可视化设计的界面。</p>
<p>2.自动生成了界面各个组件的类成员变量定义。在 public 部分为界面上每个组件定义了一个指针变量，变量的名称就是设置的相关控件的名称。比如，在窗体上放置了一个 QLabel 和一个 QPushButton 并命名后，自动生成的定义是：</p>
<figure class="highlight qt"><table><tr><td class="code"><pre><span class="line">QLabel*LabDemo;</span><br><span class="line"></span><br><span class="line">QPushButton*btnClos;</span><br></pre></td></tr></table></figure>

<p>3.定义了 setupUi() 函数，这个函数用于创建各个界面组件，并设置其位置、大小、文字内容、字体等属性，设置信号与槽的关联。setupUi() 函数体的第一部分是根据可视化设计的界面内容，用 C++ 代码创建界面上各组件，并设置其属性。<br>接下来，setupUi() 调用了函数 retranslateUi(Widget)，用来设置界面各组件的文字内容属性，如标签的文字、按键的文字、窗体的标题等。将界面上的文字设置的内容独立出来作为一个函数 retranslateUi()。</p>
<p>setupUi()函数的第三部分是设置信号于槽的关联，本文件中有一下两行</p>
<figure class="highlight qt"><table><tr><td class="code"><pre><span class="line"><span class="attribute">QObject</span>::connect(btnClose,SIGNAL(clicked()),Widget,SLOT(close()))</span><br><span class="line">;</span><br><span class="line"><span class="attribute">QMetaObject</span>::connectSlotsByName(Widget);</span><br></pre></td></tr></table></figure>

<p>第1 行是调用 connect() 函数，将在 UI 设计器里设置的信号与槽的关联转换为语句。这里是将 btnClose 按键的 clicked() 信号与窗体 Widget 的 close() 槽函数关联起来，就是在图 4 中设置的信号与槽的关联的程序语句实现。这样，当单击 btnClose 按钮时，就会执行 Widget 的 close() 槽函数，而 close() 槽函数的功能是关闭窗口。<br>第 2 行是设置槽函数的关联方式，用于将 UI 设计器自动生成的组件信号的槽函数与组件信号相关联。<br>所以，在Widget 的构造函数里调用 ui-&gt;setupUI(this)，就实现了窗体上组件的创建、属性设置、信号与槽的关联。</p>
<p>定义 namespace Ui，并定义一个从Ui_Widget 继承的类Widget。 </p>
<figure class="highlight qt"><table><tr><td class="code"><pre><span class="line">namespace <span class="title">Ui</span>&#123;</span><br><span class="line">class <span class="attribute">Widget</span>:<span class="attribute">public Ui Widget&#123;&#125;</span></span><br><span class="line"><span class="attribute">&#125;</span></span><br></pre></td></tr></table></figure>

<p>ui_widget.h 文件里实现界面功能的类是 Ui_Widget。再定义一个类 Widget 从 Ui_Widget 继承而来，并定义在 namespace Ui 里，这样 Ui:: Widget 与 widget.h 里的类 Widget 同名，但是用 namespace 区分开来。所以，界面的 Ui:: Widget 类与文件 widget.h 里定义的 Widget 类实际上是两个类，但是设计的程序员对 Qt 的处理让用户感觉不到 Ui:: Widget 类的存在。</p>
]]></content>
      <categories>
        <category>Qt</category>
      </categories>
      <tags>
        <tag>Qt</tag>
      </tags>
  </entry>
  <entry>
    <title>函数递归之斐波那契数列加强版</title>
    <url>/2019/11/09/%E5%87%BD%E6%95%B0%E9%80%92%E5%BD%92%E4%B9%8B%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97%E5%8A%A0%E5%BC%BA%E7%89%88/</url>
    <content><![CDATA[<h1 id="函数递归之斐波那契数列加强版1"><a href="#函数递归之斐波那契数列加强版1" class="headerlink" title="函数递归之斐波那契数列加强版1"></a>函数递归之斐波那契数列加强版1</h1><p><strong>背景</strong></p>
<p>在函数递归问题中一个典型问题是求解斐波那契数列</p>
<p>但是函数递归会面临着资源的大量消耗问题</p>
<p>按照一种最为基本的写法</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">Fib</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (a &lt; <span class="number">2</span>)</span><br><span class="line">		<span class="keyword">return</span> a;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="keyword">return</span> Fib(a - <span class="number">1</span>) + Fib(a - <span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">	<span class="keyword">if</span> (n &lt;=<span class="number">0</span>||n&gt;<span class="number">90</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"WORNG"</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;Fib(n);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在n&lt;=50左右时，大概等几秒钟是可以得出答案的</p>
<p>然鹅一旦太大的话……</p>
<p>你也许就得等上老一会儿</p>
<p>下面是对该算法的改进</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">Fibo</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span>&amp;,<span class="keyword">long</span> <span class="keyword">long</span>&amp;,<span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">	<span class="keyword">if</span> (n &lt;=<span class="number">0</span>||n&gt;<span class="number">90</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"WORNG"</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> a = <span class="number">1</span>, b = <span class="number">1</span>;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;Fibo(a,b,n);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">Fibo</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> &amp;a,<span class="keyword">long</span> <span class="keyword">long</span> &amp;b,<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> temp1[<span class="number">90</span>],temp2[<span class="number">90</span>];</span><br><span class="line">	<span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">if</span> (n &gt; <span class="number">2</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			temp1[j] = a + b;</span><br><span class="line">			temp2[j++] = a;</span><br><span class="line">			<span class="keyword">return</span> Fibo(temp1[j<span class="number">-1</span>],temp2[j<span class="number">-1</span>], n - <span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样写就可极大的缩短时间啦！！！</p>
]]></content>
      <categories>
        <category>c++算法</category>
      </categories>
      <tags>
        <tag>c++ data structure</tag>
      </tags>
  </entry>
  <entry>
    <title>MATLAB—线性规划问题求解</title>
    <url>/2019/11/09/matlab-%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98%E6%B1%82%E8%A7%A3/</url>
    <content><![CDATA[<h1 id="MATLAB求解线性规划问题"><a href="#MATLAB求解线性规划问题" class="headerlink" title="MATLAB求解线性规划问题"></a>MATLAB求解线性规划问题</h1><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>1.（生产问题）某工厂计划生产甲、乙两种产品，主要材料有钢材3500kg，铁材1800kg，专用设备能力2800台时，材料与设备能力的消耗定额及单位产品所获利润如表所示，问如何安排生产，才能使该厂所获利润最大？</p>
<p><img src="https://raw.githubusercontent.com/Joshua-li-yi/blog_images/master/images/20191109034314.png" alt></p>
<h3 id="问题分析"><a href="#问题分析" class="headerlink" title="问题分析"></a>问题分析</h3><p>x1甲种产品的件数，x2乙种产品的件数</p>
<p>max y=80<em>x1+125</em>x2  （该厂所获得的的利润）</p>
<p>8<em>x1+5</em>x2&lt;=3500  （所耗费的钢材不超过3500kg）</p>
<p>6<em>x1+4</em>x2&lt;=1800 （所耗费的铁材不超过1800kg）</p>
<p>4<em>x1+5</em>x2&lt;=2800  （所耗费的设备能力不超过2800台）</p>
<p>-x1&lt;=0  （生产甲的件数为自然数）</p>
<p>-x2&lt;=0  （生产乙的件数为自然数）</p>
<h5 id="MATLAB代码如下"><a href="#MATLAB代码如下" class="headerlink" title="MATLAB代码如下"></a>MATLAB代码如下</h5><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">&gt;&gt; intcon=[<span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">intcon =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span>     <span class="number">2</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; a=[<span class="number">8</span> <span class="number">5</span>;<span class="number">6</span> <span class="number">4</span>;<span class="number">4</span> <span class="number">5</span>;<span class="number">-1</span> <span class="number">0</span>;<span class="number">0</span> <span class="number">-1</span>]</span><br><span class="line"></span><br><span class="line">a =</span><br><span class="line"></span><br><span class="line">     <span class="number">8</span>     <span class="number">5</span></span><br><span class="line">     <span class="number">6</span>     <span class="number">4</span></span><br><span class="line">     <span class="number">4</span>     <span class="number">5</span></span><br><span class="line">    <span class="number">-1</span>     <span class="number">0</span></span><br><span class="line">     <span class="number">0</span>    <span class="number">-1</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; b=[<span class="number">3500</span>;<span class="number">1800</span>;<span class="number">2800</span>;<span class="number">0</span>;<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">b =</span><br><span class="line"></span><br><span class="line">        <span class="number">3500</span></span><br><span class="line">        <span class="number">1800</span></span><br><span class="line">        <span class="number">2800</span></span><br><span class="line">           <span class="number">0</span></span><br><span class="line">           <span class="number">0</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; f=-[<span class="number">80</span> <span class="number">125</span>]</span><br><span class="line"></span><br><span class="line">f =</span><br><span class="line"></span><br><span class="line">   <span class="number">-80</span>  <span class="number">-125</span></span><br><span class="line">&gt;&gt; [x fval exitflag]=intlinprog(f,intcon,a,b)</span><br><span class="line"></span><br><span class="line">x =</span><br><span class="line"></span><br><span class="line">         <span class="number">0</span></span><br><span class="line">  <span class="number">450.0000</span>（生产甲<span class="number">0</span>件，乙<span class="number">450</span>件）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fval =</span><br><span class="line"></span><br><span class="line">      <span class="number">-56250</span></span><br><span class="line">      <span class="comment">%（最大利润为56250元）</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">exitflag =</span><br><span class="line"></span><br><span class="line">     <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>当生产甲0件，乙450件时，该厂利润最大，为56250元</p>
<p>2.（运输问题）设两个建材厂C1和C2，每年沙石的产量分别为35万吨和55万吨，这些沙石需要供应到W1、W2和W3三个建筑工地，每年建筑工地对沙石的需求量分别为26万吨、35万吨和26万吨，各建材厂到建筑工地之间的运费（万元/万吨）如表所示，问应当如何调运才能使得总运费最小。</p>
<p><img src="https://raw.githubusercontent.com/Joshua-li-yi/blog_images/master/images/20191109034734.png" alt></p>
<h3 id="问题分析-1"><a href="#问题分析-1" class="headerlink" title="问题分析"></a>问题分析</h3><p>c1x1,c1x2,c1x3,分别为c1建材厂调到w1，w2，w3三个建筑工地的砂石量（万吨）</p>
<p>c2x1,c2x2,c2x3, 分别为c2建材厂调到w1，w2，w3三个建筑工地的砂石量（万吨）</p>
<p>min y=10<em>c1x1+12</em>c1x2+9<em>c1x3+8</em>c2x1+11<em>c2x2+13</em>c2x3(总运费最小)</p>
<p>c1x1+c1x2+c1x3&lt;=35（c1建材厂产量为35万吨）</p>
<p>c2x1+c2x2+c2x3&lt;=55（c2建材厂产量为55万吨）</p>
<p>c1x1+c2x1&gt;=26（w1建筑工地对沙石的需求量为26万吨）</p>
<p>c1x2+c2x2&gt;=35（w2建筑工地对沙石的需求量为35万吨）</p>
<p>c1x3+c2x3&gt;=26（w3建筑工地对沙石的需求量为26万吨）</p>
<p>cixj&gt;=0(i=1,2 j=1,2,3)（运送量大于等于0万吨）</p>
<h5 id="MATLAB代码如下-1"><a href="#MATLAB代码如下-1" class="headerlink" title="MATLAB代码如下"></a>MATLAB代码如下</h5><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">f=[<span class="number">10</span> <span class="number">12</span> <span class="number">9</span> <span class="number">8</span> <span class="number">11</span> <span class="number">13</span>];</span><br><span class="line">b=-[<span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>;<span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>;<span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>;<span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span>;<span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span>;<span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span>];</span><br><span class="line">a=[<span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>;<span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span>;<span class="number">-1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">-1</span> <span class="number">0</span> <span class="number">0</span>;<span class="number">0</span> <span class="number">-1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">-1</span> <span class="number">0</span>;<span class="number">0</span> <span class="number">0</span> <span class="number">-1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">-1</span>;b];</span><br><span class="line">c=[<span class="number">35</span>;<span class="number">55</span>;<span class="number">-26</span>;<span class="number">-35</span>;<span class="number">-26</span>;<span class="number">0</span>;<span class="number">0</span>;<span class="number">0</span>;<span class="number">0</span>;<span class="number">0</span>;<span class="number">0</span>];</span><br><span class="line">[cx fmin]=linprog(f,a,c);</span><br><span class="line">cx=</span><br><span class="line"><span class="number">0</span>(c1x1,c1-&gt;w1)</span><br><span class="line"><span class="number">6</span>(c1x2,c1-&gt;w2)</span><br><span class="line"><span class="number">26</span>(c1x3,c1-&gt;w3)</span><br><span class="line"><span class="number">26</span>(c2x1,c2-&gt;w1)</span><br><span class="line"><span class="number">29</span>(c2x2,c2-&gt;w2)</span><br><span class="line"><span class="number">0</span>(c2x3,c2-&gt;w3)</span><br><span class="line">fmin=</span><br><span class="line"><span class="number">833</span></span><br><span class="line"><span class="comment">%（总运费最小为833万元）</span></span><br></pre></td></tr></table></figure>

<p>当c1向w1,w2,w3分别运送0,6,26万吨，c2向w1,w2,w3分别运送26,29,0万吨时，总运费最小，为833万元。</p>
<p>3.（资金分配问题）某企业在今后三年有5项工程考虑施工，每项工程的期望收入和年度费用如表所示。假定每一项已经批准的工程要在整个三年内完成。问企业应怎样选择工程，使企业总收入最大。</p>
<p><img src="https://raw.githubusercontent.com/Joshua-li-yi/blog_images/master/images/20191109034955.png" alt></p>
<h3 id="问题分析-2"><a href="#问题分析-2" class="headerlink" title="问题分析"></a>问题分析</h3><p>x1,x2,x3,x4,x5分别表示工程1,2，3,4,5</p>
<p>max y=20<em>x1+40</em>x2+20<em>x3+15</em>x4+30*x5 (企业总收入最大)</p>
<p>5<em>x1+4</em>x2+3<em>x3+7</em>x4+8*x5&lt;=25（第1年最大可用基金数为25千元）</p>
<p>1<em>x1+7</em>x2+9<em>x3+4</em>x4+6*x5&lt;=25（第2年最大可用基金数为25千元）</p>
<p>8<em>x1+10</em>x2+2<em>x3+1</em>x4+10*x5&lt;=25（第3年最大可用基金数为25千元）</p>
<p>xi=[0 1];(i=1,2 ,3,4,5)</p>
<h5 id="MATLAB代码如下-2"><a href="#MATLAB代码如下-2" class="headerlink" title="MATLAB代码如下"></a>MATLAB代码如下</h5><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">f=-[<span class="number">20</span> <span class="number">40</span> <span class="number">20</span> <span class="number">15</span> <span class="number">30</span>];</span><br><span class="line">a=[<span class="number">5</span> <span class="number">4</span> <span class="number">3</span> <span class="number">7</span> <span class="number">8</span>;<span class="number">1</span> <span class="number">7</span> <span class="number">9</span> <span class="number">4</span> <span class="number">6</span>;<span class="number">8</span> <span class="number">10</span> <span class="number">2</span> <span class="number">1</span> <span class="number">10</span>];</span><br><span class="line">b=[<span class="number">25</span>;<span class="number">25</span>;<span class="number">25</span>];</span><br><span class="line">intcon=[<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span>];</span><br><span class="line">lb=<span class="built_in">zeros</span>(<span class="number">5</span>,<span class="number">1</span>);</span><br><span class="line">ub=<span class="built_in">ones</span>(<span class="number">5</span>,<span class="number">1</span>);</span><br><span class="line">[x ,fm ,exitflag]=intlinprog(f,intcon,a,b,[],[],lb,ub);</span><br><span class="line">x=</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="comment">%(实施1,2,3,4号项目)</span></span><br><span class="line">fm=</span><br><span class="line">	<span class="number">-95</span></span><br><span class="line">	<span class="comment">%（企业总收入最大为95千元）</span></span><br><span class="line">exitflag=</span><br><span class="line">   <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>当企业选择1,2,3,4工程时，企业利润最大，为95千元。</p>
]]></content>
      <categories>
        <category>MATLAB</category>
      </categories>
      <tags>
        <tag>MATLAB machine learning</tag>
      </tags>
  </entry>
</search>
